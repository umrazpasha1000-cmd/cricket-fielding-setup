<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Fielding Positions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #1a472a;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .main-container {
            display: flex;
            gap: 20px;
            width: 100%;
            max-width: 1100px;
            align-items: flex-start;
        }

        .left-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .right-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        @media (max-width: 768px) {
            body {
                padding: 5px;
            }

            .main-container {
                flex-direction: column;
                align-items: center;
            }

            .left-section {
                width: 100%;
                max-width: 700px;
            }
        }

        h1 {
            color: white;
            margin-bottom: 20px;
            font-size: 28px;
            text-align: center;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 22px;
                margin-bottom: 10px;
            }
        }

        .controls {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 700px;
        }

        @media (max-width: 768px) {
            .controls {
                padding: 15px;
                margin-bottom: 15px;
            }
        }

        .input-group {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 15px;
        }

        @media (max-width: 480px) {
            .input-group {
                flex-direction: column;
                width: 100%;
            }
        }

        .swap-btn {
            background-color: #0066cc;
            font-size: 14px;
        }

        .swap-btn:hover {
            background-color: #0052a3;
        }

        input[type="text"] {
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            width: 250px;
            max-width: 100%;
        }

        @media (max-width: 480px) {
            input[type="text"] {
                width: 100%;
            }
        }

        button {
            padding: 10px 20px;
            background-color: #2d7a4d;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #1f5436;
        }

        @media (max-width: 480px) {
            button {
                width: 100%;
            }
        }

        .field-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            aspect-ratio: 1 / 1;
            background: linear-gradient(135deg, #2d7a4d 0%, #1a5c35 100%);
            border-radius: 50%;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
            border: 4px solid white;
        }

        @media (max-width: 768px) {
            .field-container {
                max-width: 95vw;
                max-height: 95vw;
            }
        }

        .inner-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 42.86%;
            height: 42.86%;
            border: 3px dashed rgba(255, 255, 255, 0.7);
            border-radius: 50%;
        }

        @media (max-width: 768px) {
            .inner-circle {
                border-width: 2px;
            }
        }

        .pitch {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 3%;
            height: 11.5%;
            background-color: #d4a574;
            border: 2px solid #8b6f47;
            border-radius: 2px;
        }

        @media (max-width: 768px) {
            .pitch {
                border-width: 1px;
            }
        }

        .fielder {
            position: absolute;
            background-color: #ff6b35;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: move;
            user-select: none;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            transition: transform 0.1s;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        @media (max-width: 768px) {
            .fielder {
                font-size: 12px;
                padding: 6px 10px;
            }
        }

        .fielder:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        .fielder.dragging {
            opacity: 0.7;
            z-index: 1000;
        }

        .remove-btn {
            background-color: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
            line-height: 1;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-btn:hover {
            background-color: rgba(255, 255, 255, 0.5);
        }

        .center-marker {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background-color: white;
            border-radius: 50%;
            z-index: 0;
        }

        .label {
            position: absolute;
            color: rgba(255, 255, 255, 0.6);
            font-size: 12px;
            font-weight: bold;
        }

        .label-30yard {
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .end-label {
            position: absolute;
            color: white;
            font-size: 16px;
            font-weight: bold;
            background-color: rgba(0, 0, 0, 0.4);
            padding: 8px 16px;
            border-radius: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        @media (max-width: 768px) {
            .end-label {
                font-size: 13px;
                padding: 6px 12px;
            }
        }

        .bowler-end {
            bottom: 10px;
        }

        .keeper-end {
            top: 10px;
        }

        .info {
            color: white;
            margin-top: 15px;
            font-size: 14px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .info {
                font-size: 12px;
                margin-top: 10px;
            }
        }

        .players-list {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            min-width: 200px;
        }

        .players-list h3 {
            margin: 0 0 10px 0;
            font-size: 18px;
            color: #1a472a;
            border-bottom: 2px solid #2d7a4d;
            padding-bottom: 8px;
        }

        .player-item {
            background-color: #ff6b35;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: move;
            user-select: none;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            margin-bottom: 8px;
            text-align: center;
            transition: transform 0.1s;
        }

        .player-item:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        .player-item.used {
            opacity: 0.4;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .players-list {
                width: 100%;
            }

            .players-list h3 {
                font-size: 16px;
            }

            .player-item {
                font-size: 12px;
                padding: 6px 10px;
            }
        }
    </style>
</head>
<body>
    <h1>Cricket Fielding Positions</h1>

    <div class="main-container">
        <div class="left-section">
            <div class="players-list">
                <h3>Players</h3>
                <div id="playersList"></div>
            </div>
        </div>

        <div class="right-section">
            <div class="controls">
                <div class="input-group">
                    <input type="text" id="playerName" placeholder="Enter player name" />
                    <button onclick="addFielder()">Add Fielder</button>
                </div>
                <div class="input-group" style="margin-bottom: 0;">
                    <button class="swap-btn" onclick="swapEnds()">â‡… Swap Ends</button>
                </div>
            </div>

            <div class="field-container" id="fieldContainer">
                <div class="end-label bowler-end">Bowler End</div>
                <div class="end-label keeper-end">Keeper End</div>
                <div class="inner-circle">
                    <span class="label label-30yard">30 Yard Circle</span>
                </div>
                <div class="pitch"></div>
                <div class="center-marker"></div>
            </div>

            <div class="info">
                Click "Add Fielder" to place a player, then drag them to position
            </div>
        </div>
    </div>

    <script>
        let draggedElement = null;
        let offsetX = 0;
        let offsetY = 0;
        let fielderCount = 0;
        let endsSwapped = false;

        // Default players list
        const defaultPlayers = [
            'Umraz', 'Asif', 'Siraj', 'Chand Bhai', 'Chandu bhayya',
            'Mujju', 'Shoib', 'Yarab', 'Mansoor', 'Sadiq',
            'Salman', 'Afroz', 'Jilan'
        ];

        // Initialize players list
        function initPlayersList() {
            const playersList = document.getElementById('playersList');
            defaultPlayers.forEach(playerName => {
                const playerItem = document.createElement('div');
                playerItem.className = 'player-item';
                playerItem.textContent = playerName;
                playerItem.dataset.playerName = playerName;
                playerItem.addEventListener('mousedown', startDragFromList);
                playerItem.addEventListener('touchstart', startDragFromList);
                playersList.appendChild(playerItem);
            });
        }

        // Call init on page load
        window.addEventListener('DOMContentLoaded', initPlayersList);

        // Add fielder function
        function addFielder() {
            const nameInput = document.getElementById('playerName');
            const name = nameInput.value.trim();

            if (name === '') {
                alert('Please enter a player name');
                return;
            }

            const fieldContainer = document.getElementById('fieldContainer');
            const fielder = document.createElement('div');
            fielder.className = 'fielder';
            fielder.id = 'fielder-' + fielderCount++;

            // Create name span
            const nameSpan = document.createElement('span');
            nameSpan.textContent = name;

            // Create remove button
            const removeBtn = document.createElement('button');
            removeBtn.className = 'remove-btn';
            removeBtn.innerHTML = '&times;';
            removeBtn.onclick = function(e) {
                e.stopPropagation();
                fielder.remove();
            };

            fielder.appendChild(nameSpan);
            fielder.appendChild(removeBtn);

            // Position fielder at center initially
            const containerRect = fieldContainer.getBoundingClientRect();
            fielder.style.left = (containerRect.width / 2) + 'px';
            fielder.style.top = (containerRect.height / 2) + 'px';
            fielder.style.transform = 'translate(-50%, -50%)';

            // Add drag event listeners
            fielder.addEventListener('mousedown', startDrag);
            fielder.addEventListener('touchstart', startDrag);

            fieldContainer.appendChild(fielder);

            // Clear input
            nameInput.value = '';
            nameInput.focus();
        }

        // Allow Enter key to add fielder
        document.getElementById('playerName').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addFielder();
            }
        });

        // Swap ends function
        function swapEnds() {
            endsSwapped = !endsSwapped;
            const bowlerLabel = document.querySelector('.bowler-end');
            const keeperLabel = document.querySelector('.keeper-end');

            if (endsSwapped) {
                bowlerLabel.textContent = 'Bowler End';
                keeperLabel.textContent = 'Keeper End';
                bowlerLabel.style.top = '10px';
                bowlerLabel.style.bottom = 'auto';
                keeperLabel.style.bottom = '10px';
                keeperLabel.style.top = 'auto';
            } else {
                bowlerLabel.textContent = 'Bowler End';
                keeperLabel.textContent = 'Keeper End';
                bowlerLabel.style.bottom = '10px';
                bowlerLabel.style.top = 'auto';
                keeperLabel.style.top = '10px';
                keeperLabel.style.bottom = 'auto';
            }
        }

        // Drag from players list
        function startDragFromList(e) {
            const listItem = this;

            // Check if already used
            if (listItem.classList.contains('used')) {
                return;
            }

            e.preventDefault();

            // Create a new fielder on the field
            const fieldContainer = document.getElementById('fieldContainer');
            const fielder = document.createElement('div');
            fielder.className = 'fielder';
            fielder.id = 'fielder-' + fielderCount++;

            const nameSpan = document.createElement('span');
            nameSpan.textContent = listItem.dataset.playerName;

            const removeBtn = document.createElement('button');
            removeBtn.className = 'remove-btn';
            removeBtn.innerHTML = '&times;';
            removeBtn.onclick = function(e) {
                e.stopPropagation();
                // Mark list item as unused
                listItem.classList.remove('used');
                fielder.remove();
            };

            fielder.appendChild(nameSpan);
            fielder.appendChild(removeBtn);

            // Position at center initially
            const containerRect = fieldContainer.getBoundingClientRect();
            fielder.style.left = (containerRect.width / 2) + 'px';
            fielder.style.top = (containerRect.height / 2) + 'px';
            fielder.style.transform = 'translate(-50%, -50%)';

            // Add to field
            fieldContainer.appendChild(fielder);

            // Mark as used
            listItem.classList.add('used');

            // Start dragging immediately
            draggedElement = fielder;
            draggedElement.classList.add('dragging');

            const rect = fielder.getBoundingClientRect();
            const clientX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
            const clientY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;

            offsetX = clientX - rect.left - rect.width / 2;
            offsetY = clientY - rect.top - rect.height / 2;

            // Add drag event listeners for the fielder
            fielder.addEventListener('mousedown', startDrag);
            fielder.addEventListener('touchstart', startDrag);

            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchmove', drag);
            document.addEventListener('touchend', stopDrag);
        }

        // Drag functions
        function startDrag(e) {
            e.preventDefault();
            draggedElement = this;
            draggedElement.classList.add('dragging');

            const rect = draggedElement.getBoundingClientRect();
            const clientX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
            const clientY = e.type === 'touchstart' ? e.touches[0].clientY : e.clientY;

            offsetX = clientX - rect.left - rect.width / 2;
            offsetY = clientY - rect.top - rect.height / 2;

            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchmove', drag);
            document.addEventListener('touchend', stopDrag);
        }

        function drag(e) {
            if (!draggedElement) return;

            const fieldContainer = document.getElementById('fieldContainer');
            const containerRect = fieldContainer.getBoundingClientRect();

            const clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
            const clientY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;

            let x = clientX - containerRect.left - offsetX;
            let y = clientY - containerRect.top - offsetY;

            // Constrain to circle
            const centerX = containerRect.width / 2;
            const centerY = containerRect.height / 2;
            const radius = containerRect.width / 2 - 20; // Leave some margin

            const dx = x - centerX;
            const dy = y - centerY;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance > radius) {
                const angle = Math.atan2(dy, dx);
                x = centerX + radius * Math.cos(angle);
                y = centerY + radius * Math.sin(angle);
            }

            draggedElement.style.left = x + 'px';
            draggedElement.style.top = y + 'px';
        }

        function stopDrag() {
            if (draggedElement) {
                draggedElement.classList.remove('dragging');
                draggedElement = null;
            }

            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
            document.removeEventListener('touchmove', drag);
            document.removeEventListener('touchend', stopDrag);
        }
    </script>
</body>
</html>
